{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/*\n *         ________                                                            ________\n *         ______(_)_____ ____  __________________  __ _____________________   ______(_)_______\n *         _____  /_  __ `/  / / /  _ \\_  ___/_  / / / ___  __ \\  _ \\__  __ \\  _____  /__  ___/\n *         ____  / / /_/ // /_/ //  __/  /   _  /_/ /____  /_/ /  __/_  /_/ /______  / _(__  )\n *         ___  /  \\__, / \\__,_/ \\___//_/    _\\__, /_(_)  .___/\\___/_  .___/_(_)__  /  /____/\n *         /___/     /_/                     /____/    /_/          /_/        /___/\n *\n *        http://pep.briangonzalez.org\n *        Kinetic drag for mobile/desktop.\n *\n *        Copyright (c) 2014 Brian Gonzalez\n *        Licensed under the MIT license.\n *\n *        Title generated using \"Speed\" @\n *        http://patorjk.com/software/taag/#p=display&f=Speed&t=jquery.pep.js\n */\n\n;(function ($, window, undefined) {\n\n  \"use strict\";\n\n  //  create the defaults once\n  var pluginName = 'pep';\n  var defaults = {\n\n    // Options\n    // ----------------------------------------------------------------------------------------------\n    // See ** https://github.com/briangonzalez/jquery.pep.js ** for fully documented options.\n    // It was too hard to manage options here and in the readme.\n    // ----------------------------------------------------------------------------------------------\n    initiate: function () {},\n    start: function () {},\n    drag: function () {},\n    stop: function () {},\n    easing: null,\n    rest: function () {},\n    moveTo: false,\n    callIfNotStarted: ['stop', 'rest'],\n    startThreshold: [0, 0],\n    grid: [1, 1],\n    debug: false,\n    activeClass: 'pep-active',\n    multiplier: 1,\n    velocityMultiplier: 2.5,\n    shouldPreventDefault: true,\n    allowDragEventPropagation: true,\n    stopEvents: '',\n    hardwareAccelerate: true,\n    useCSSTranslation: true,\n    disableSelect: true,\n    cssEaseString: \"cubic-bezier(0.190, 1.000, 0.220, 1.000)\",\n    cssEaseDuration: 1000,\n    shouldEase: true,\n    droppable: false,\n    droppableActiveClass: 'pep-dpa',\n    overlapFunction: false,\n    constrainTo: false,\n    removeMargins: true,\n    place: true,\n    deferPlacement: false,\n    axis: null,\n    forceNonCSS3Movement: false,\n    elementsWithInteraction: 'input',\n    revert: false,\n    revertAfter: 'stop',\n    revertIf: function () {\n      return true;\n    },\n    ignoreRightClick: true,\n    startPos: {\n      left: null,\n      top: null\n    }\n  };\n\n  //  ---------------------------------\n  //  -----  Our main Pep object  -----\n  //  ---------------------------------\n  function Pep(el, options) {\n\n    this.name = pluginName;\n\n    // reference to our DOM object\n    // and it's jQuery equivalent.\n    this.el = el;\n    this.$el = $(el);\n\n    //  merge in defaults\n    this.options = $.extend({}, defaults, options);\n\n    // store document/body so we don't need to keep grabbing them\n    // throughout the code\n    this.$document = $(this.$el[0].ownerDocument);\n    this.$body = this.$document.find('body');\n\n    //  Create our triggers based on touch/click device\n    this.moveTrigger = \"MSPointerMove touchmove mousemove\";\n    this.startTrigger = \"MSPointerDown touchstart mousedown\";\n    this.stopTrigger = \"MSPointerUp touchend mouseup\";\n    this.startTriggerArray = this.startTrigger.split(' ');\n    this.moveTriggerArray = this.moveTrigger.split(' ');\n    this.stopTriggerArray = this.stopTrigger.split(' ');\n    this.stopEvents = [this.stopTrigger, this.options.stopEvents].join(' ');\n\n    if (this.options.constrainTo === 'window') this.$container = this.$document;else if (this.options.constrainTo && this.options.constrainTo !== 'parent') this.$container = $(this.options.constrainTo);else this.$container = this.$el.parent();\n\n    // IE need this\n    if (this.isPointerEventCompatible()) this.applyMSDefaults();\n\n    this.CSSEaseHash = this.getCSSEaseHash();\n    this.scale = 1;\n    this.started = false;\n    this.disabled = false;\n    this.activeDropRegions = [];\n    this.resetVelocityQueue();\n\n    this.init();\n    return this;\n  }\n\n  //  init();\n  //    initialization logic\n  //    you already have access to the DOM el and the options via the instance,\n  //    e.g., this.el and this.options\n  Pep.prototype.init = function () {\n\n    if (this.options.debug) this.buildDebugDiv();\n\n    if (this.options.disableSelect) this.disableSelect();\n\n    // position the parent & place the object, if necessary.\n    if (this.options.place && !this.options.deferPlacement) {\n      this.positionParent();\n      this.placeObject();\n    }\n\n    this.ev = {}; // to store our event movements\n    this.pos = {}; // to store positions\n    this.subscribe();\n  };\n\n  //  subscribe();\n  //    useful in the event we want to programmatically\n  //    interact with our Pep object.\n  //      e.g.:     $('#pep').trigger('stop')\n  Pep.prototype.subscribe = function () {\n    var self = this;\n\n    // Subscribe to our start event\n    this.onStartEvent = function (ev) {\n      self.handleStart(ev);\n    };\n    this.$el.on(this.startTrigger, this.onStartEvent);\n\n    // Prevent start events from being gobbled by elements that should allow user interaction\n    this.onStartEventOnElementsWithInteraction = function (ev) {\n      ev.stopPropagation();\n    };\n    this.$el.on(this.startTrigger, this.options.elementsWithInteraction, this.onStartEventOnElementsWithInteraction);\n\n    // Subscribe to our stop event\n    this.onStopEvents = function (ev) {\n      self.handleStop(ev);\n    };\n    this.$document.on(this.stopEvents, this.onStopEvents);\n\n    // Subscribe to our move event\n    this.onMoveEvents = function (ev) {\n      self.moveEvent = ev;\n    };\n    this.$document.on(this.moveTrigger, this.onMoveEvents);\n  };\n\n  Pep.prototype.unsubscribe = function () {\n    this.$el.off(this.startTrigger, this.onStartEvent);\n    this.$el.off(this.startTrigger, this.options.elementsWithInteraction, this.onStartEventOnElementsWithInteraction);\n    this.$document.off(this.stopEvents, this.onStopEvents);\n    this.$document.off(this.moveTrigger, this.onMoveEvents);\n  };\n\n  //  handleStart();\n  //    once this.startTrigger occurs, handle all of the logic\n  //    that must go on. This is where Pep's heavy lifting is done.\n  Pep.prototype.handleStart = function (ev) {\n    var self = this;\n\n    // only continue chugging if our start event is a valid move event.\n    if (this.isValidMoveEvent(ev) && !this.disabled) {\n\n      if (!(this.options.ignoreRightClick && ev.which === 3)) {\n\n        // IE10 Hack. Me not happy.\n        if (this.isPointerEventCompatible() && ev.preventManipulation) ev.preventManipulation();\n\n        // normalize event\n        ev = this.normalizeEvent(ev);\n\n        // position the parent & place the object, if necessary.\n        if (this.options.place && this.options.deferPlacement) {\n          this.positionParent();\n          this.placeObject();\n        }\n\n        // log it\n        this.log({ type: 'event', event: ev.type });\n\n        // hardware accelerate, if necessary.\n        if (this.options.hardwareAccelerate && !this.hardwareAccelerated) {\n          this.hardwareAccelerate();\n          this.hardwareAccelerated = true;\n        }\n\n        // fire user's initiate event.\n        var shouldContinue = this.options.initiate.call(this, ev, this);\n        if (shouldContinue === false) return;\n\n        // cancel the rest timeout\n        clearTimeout(this.restTimeout);\n\n        // add active class and reset css animation, if necessary\n        this.$el.addClass(this.options.activeClass);\n        this.removeCSSEasing();\n\n        // store event's x & y values for later use\n        this.startX = this.ev.x = ev.pep.x;\n        this.startY = this.ev.y = ev.pep.y;\n\n        // store initial offset.\n        this.initialPosition = this.initialPosition || this.$el.position();\n\n        // store the initial touch/click event, used to calculate the inital delta values.\n        this.startEvent = this.moveEvent = ev;\n\n        // make object active, so watchMoveLoop starts looping.\n        this.active = true;\n\n        // preventDefault(), is necessary\n        if (this.options.shouldPreventDefault) ev.preventDefault();\n\n        // allow / disallow event bubbling\n        if (!this.options.allowDragEventPropagation) ev.stopPropagation();\n\n        // animation loop to ensure we don't fire\n        // too many unneccessary repaints\n        (function () {\n          function watchMoveLoop() {\n            if (!self.active) return;\n            self.handleMove();\n            self.requestAnimationFrame(watchMoveLoop);\n          }\n\n          return watchMoveLoop;\n        })()();\n\n        (function () {\n          function watchEasingLoop() {\n            if (!self.options.easing) return;\n            if (self.easing) self.options.easing.call(self, null, self);\n            self.requestAnimationFrame(watchEasingLoop);\n          }\n\n          return watchEasingLoop;\n        })()();\n      }\n    }\n  };\n\n  //  handleMove();\n  //    the logic for when the move events occur\n  Pep.prototype.handleMove = function () {\n\n    // setup our event object\n    if (typeof this.moveEvent === 'undefined') return;\n\n    // get our move event's x & y\n    var ev = this.normalizeEvent(this.moveEvent);\n    var curX = window.parseInt(ev.pep.x / this.options.grid[0]) * this.options.grid[0];\n    var curY = window.parseInt(ev.pep.y / this.options.grid[1]) * this.options.grid[1];\n\n    // last in, first out (LIFO) queue to help us manage velocity\n    this.addToLIFO({ time: ev.timeStamp, x: curX, y: curY });\n\n    // calculate values necessary to moving\n    var dx, dy;\n\n    if ($.inArray(ev.type, this.startTriggerArray) > -1) {\n      dx = 0;\n      dy = 0;\n    } else {\n      dx = curX - this.ev.x;\n      dy = curY - this.ev.y;\n    }\n\n    this.dx = dx;\n    this.dy = dy;\n    this.ev.x = curX;\n    this.ev.y = curY;\n\n    // no movement in either direction -- so return\n    if (dx === 0 && dy === 0) {\n      this.log({ type: 'event', event: '** stopped **' });\n      return;\n    }\n\n    // check if object has moved past X/Y thresholds\n    // if so, fire users start event\n    var initialDx = Math.abs(this.startX - curX);\n    var initialDy = Math.abs(this.startY - curY);\n    if (!this.started && (initialDx > this.options.startThreshold[0] || initialDy > this.options.startThreshold[1])) {\n      this.started = true;\n      this.$el.addClass('pep-start');\n      this.options.start.call(this, this.startEvent, this);\n    }\n\n    // Calculate our drop regions\n    if (this.options.droppable) {\n      this.calculateActiveDropRegions();\n    }\n\n    // fire user's drag event.\n    var continueDrag = this.options.drag.call(this, ev, this);\n\n    if (continueDrag === false) {\n      this.resetVelocityQueue();\n      return;\n    }\n\n    // log the move trigger & event position\n    this.log({ type: 'event', event: ev.type });\n    this.log({ type: 'event-coords', x: this.ev.x, y: this.ev.y });\n    this.log({ type: 'velocity' });\n\n    this.doMoveTo(dx, dy);\n  };\n\n  Pep.prototype.doMoveTo = function (dx, dy) {\n    var hash = this.handleConstraint(dx, dy);\n    var xOp, yOp;\n\n    // if using not using CSS transforms, move object via absolute position\n    if (typeof this.options.moveTo === 'function') {\n      xOp = dx >= 0 ? \"+=\" + Math.abs(dx / this.scale) * this.options.multiplier : \"-=\" + Math.abs(dx / this.scale) * this.options.multiplier;\n      yOp = dy >= 0 ? \"+=\" + Math.abs(dy / this.scale) * this.options.multiplier : \"-=\" + Math.abs(dy / this.scale) * this.options.multiplier;\n\n      if (this.options.constrainTo) {\n        xOp = hash.x !== false ? hash.x : xOp;\n        yOp = hash.y !== false ? hash.y : yOp;\n      }\n\n      // only move along single axis, if necessary\n      if (this.options.axis === 'x') yOp = hash.y;\n      if (this.options.axis === 'y') xOp = hash.x;\n\n      this.options.moveTo.call(this, xOp, yOp);\n    } else if (!this.shouldUseCSSTranslation()) {\n      xOp = dx >= 0 ? \"+=\" + Math.abs(dx / this.scale) * this.options.multiplier : \"-=\" + Math.abs(dx / this.scale) * this.options.multiplier;\n      yOp = dy >= 0 ? \"+=\" + Math.abs(dy / this.scale) * this.options.multiplier : \"-=\" + Math.abs(dy / this.scale) * this.options.multiplier;\n\n      if (this.options.constrainTo) {\n        xOp = hash.x !== false ? hash.x : xOp;\n        yOp = hash.y !== false ? hash.y : yOp;\n      }\n\n      // only move along single axis, if necessary\n      if (this.options.axis === 'x') yOp = hash.y;\n      if (this.options.axis === 'y') xOp = hash.x;\n\n      this.moveTo(xOp, yOp);\n    } else {\n\n      dx = dx / this.scale * this.options.multiplier;\n      dy = dy / this.scale * this.options.multiplier;\n\n      if (this.options.constrainTo) {\n        dx = hash.x === false ? dx : 0;\n        dy = hash.y === false ? dy : 0;\n      }\n\n      // only move along single axis, if necessary\n      if (this.options.axis === 'x') dy = 0;\n      if (this.options.axis === 'y') dx = 0;\n\n      this.moveToUsingTransforms(dx, dy);\n    }\n  };\n\n  //  handleStop();\n  //    the logic for when the stop events occur\n  Pep.prototype.handleStop = function (ev) {\n\n    // no need to handle stop event if we're not active\n    if (!this.active) return;\n\n    // log it\n    this.log({ type: 'event', event: ev.type });\n\n    // make object inactive, so watchMoveLoop returns\n    this.active = false;\n\n    // make object easing.\n    this.easing = true;\n\n    // remove our start class\n    this.$el.removeClass('pep-start').addClass('pep-ease');\n\n    // Calculate our drop regions\n    if (this.options.droppable) {\n      this.calculateActiveDropRegions();\n    }\n\n    // fire user's stop event.\n    if (this.started || !this.started && $.inArray('stop', this.options.callIfNotStarted) > -1) {\n      this.options.stop.call(this, ev, this);\n    }\n\n    // ease the object, if necessary.\n    if (this.options.shouldEase) {\n      this.ease(ev, this.started);\n    } else {\n      this.removeActiveClass();\n    }\n\n    if (this.options.revert && (this.options.revertAfter === 'stop' || !this.options.shouldEase) && (this.options.revertIf && this.options.revertIf.call(this))) {\n      this.revert();\n    }\n\n    // this must be set to false after\n    // the user's stop event is called, so the dev\n    // has access to it.\n    this.started = false;\n\n    // reset the velocity queue\n    this.resetVelocityQueue();\n  };\n\n  //  ease();\n  //    used in conjunction with the LIFO queue\n  //    to ease the object after stop\n  Pep.prototype.ease = function (ev, started) {\n\n    var pos = this.$el.position();\n    var vel = this.velocity();\n    var dt = this.dt;\n    var x = vel.x / this.scale * this.options.multiplier;\n    var y = vel.y / this.scale * this.options.multiplier;\n\n    var hash = this.handleConstraint(x, y, true);\n\n    // ✪  Apply the CSS3 animation easing magic  ✪\n    if (this.cssAnimationsSupported()) this.$el.css(this.getCSSEaseHash());\n\n    var xOp = vel.x > 0 ? \"+=\" + x : \"-=\" + Math.abs(x);\n    var yOp = vel.y > 0 ? \"+=\" + y : \"-=\" + Math.abs(y);\n\n    if (this.options.constrainTo) {\n      xOp = hash.x !== false ? hash.x : xOp;\n      yOp = hash.y !== false ? hash.y : yOp;\n    }\n\n    if (this.options.axis === 'x') yOp = \"+=0\";\n    if (this.options.axis === 'y') xOp = \"+=0\";\n\n    // ease it via JS, the last true tells it to animate.\n    var jsAnimateFallback = !this.cssAnimationsSupported() || this.options.forceNonCSS3Movement;\n    if (typeof this.options.moveTo === 'function') {\n      this.options.moveTo.call(this, xOp, yOp);\n    } else {\n      this.moveTo(xOp, yOp, jsAnimateFallback);\n    }\n\n    // when the rest occurs, remove active class and call\n    // user's rest event.\n    var self = this;\n    this.restTimeout = setTimeout(function () {\n\n      // Calculate our drop regions\n      if (self.options.droppable) {\n        self.calculateActiveDropRegions();\n      }\n\n      self.easing = false;\n\n      // call users rest event.\n      if (started || !started && $.inArray('rest', self.options.callIfNotStarted) > -1) {\n        self.options.rest.call(self, ev, self);\n      }\n\n      // revert thy self!\n      if (self.options.revert && (self.options.revertAfter === 'ease' && self.options.shouldEase) && (self.options.revertIf && self.options.revertIf.call(self))) {\n        self.revert();\n      }\n\n      // remove active class\n      self.removeActiveClass();\n    }, this.options.cssEaseDuration);\n  };\n\n  // normalizeEvent()\n  Pep.prototype.normalizeEvent = function (ev) {\n    ev.pep = {};\n\n    if (this.isPointerEventCompatible() || !this.isTouch(ev)) {\n\n      if (ev.pageX) {\n        ev.pep.x = ev.pageX;\n        ev.pep.y = ev.pageY;\n      } else {\n        ev.pep.x = ev.originalEvent.pageX;\n        ev.pep.y = ev.originalEvent.pageY;\n      }\n\n      ev.pep.type = ev.type;\n    } else {\n      ev.pep.x = ev.originalEvent.touches[0].pageX;\n      ev.pep.y = ev.originalEvent.touches[0].pageY;\n      ev.pep.type = ev.type;\n    }\n\n    return ev;\n  };\n\n  // resetVelocityQueue()\n  //\n  Pep.prototype.resetVelocityQueue = function () {\n    this.velocityQueue = new Array(5);\n  };\n\n  //  moveTo();\n  //    move the object to an x and/or y value\n  //    using jQuery's .css function -- this fxn uses the\n  //    .css({top: \"+=20\", left: \"-=30\"}) syntax\n  Pep.prototype.moveTo = function (x, y, animate) {\n\n    this.log({ type: 'delta', x: x, y: y });\n    if (animate) {\n      this.$el.animate({ top: y, left: x }, 0, 'easeOutQuad', { queue: false });\n    } else {\n      this.$el.stop(true, false).css({ top: y, left: x });\n    }\n  };\n\n  //  moveToUsingTransforms();\n  //    move the object to an x and/or y value\n  Pep.prototype.moveToUsingTransforms = function (x, y) {\n\n    // Check for our initial values if we don't have them.\n    var matrixArray = this.matrixToArray(this.matrixString());\n    if (!this.cssX) this.cssX = this.xTranslation(matrixArray);\n\n    if (!this.cssY) this.cssY = this.yTranslation(matrixArray);\n\n    // CSS3 transforms are additive from current position\n    this.cssX = this.cssX + x;\n    this.cssY = this.cssY + y;\n\n    this.log({ type: 'delta', x: x, y: y });\n\n    matrixArray[4] = this.cssX;\n    matrixArray[5] = this.cssY;\n\n    this.translation = this.arrayToMatrix(matrixArray);\n    this.transform(this.translation);\n  };\n\n  Pep.prototype.transform = function (value) {\n    this.$el.css({\n      '-webkit-transform': value,\n      '-moz-transform': value,\n      '-ms-transform': value,\n      '-o-transform': value,\n      'transform': value });\n  };\n\n  Pep.prototype.xTranslation = function (matrixArray) {\n    matrixArray = matrixArray || this.matrixToArray(this.matrixString());\n    return parseInt(matrixArray[4], 10);\n  };\n\n  Pep.prototype.yTranslation = function (matrixArray) {\n    matrixArray = matrixArray || this.matrixToArray(this.matrixString());\n    return parseInt(matrixArray[5], 10);\n  };\n\n  // 3 helper functions for working with the\n  // objects CSS3 transforms\n  // matrixString\n  // matrixToArray\n  // arrayToMatrix\n  Pep.prototype.matrixString = function () {\n\n    var validMatrix = function (o) {\n      return !(!o || o === 'none' || o.indexOf('matrix') < 0);\n    };\n\n    var matrix = \"matrix(1, 0, 0, 1, 0, 0)\";\n\n    if (validMatrix(this.$el.css('-webkit-transform'))) matrix = this.$el.css('-webkit-transform');\n\n    if (validMatrix(this.$el.css('-moz-transform'))) matrix = this.$el.css('-moz-transform');\n\n    if (validMatrix(this.$el.css('-ms-transform'))) matrix = this.$el.css('-ms-transform');\n\n    if (validMatrix(this.$el.css('-o-transform'))) matrix = this.$el.css('-o-transform');\n\n    if (validMatrix(this.$el.css('transform'))) matrix = this.$el.css('transform');\n\n    return matrix;\n  };\n\n  Pep.prototype.matrixToArray = function (str) {\n    return str.split('(')[1].split(')')[0].split(',');\n  };\n\n  Pep.prototype.arrayToMatrix = function (array) {\n    return \"matrix(\" + array.join(',') + \")\";\n  };\n\n  //  addToLIFO();\n  //    a Last-In/First-Out array of the 5 most recent\n  //    velocity points, which is used for easing\n  Pep.prototype.addToLIFO = function (val) {\n    // last in, first out\n    var arr = this.velocityQueue;\n    arr = arr.slice(1, arr.length);\n    arr.push(val);\n    this.velocityQueue = arr;\n  };\n\n  //  velocity();\n  //    using the LIFO, calculate velocity and return\n  //    velocity in each direction (x & y)\n  Pep.prototype.velocity = function () {\n    var sumX = 0;\n    var sumY = 0;\n\n    for (var i = 0; i < this.velocityQueue.length - 1; i++) {\n      if (this.velocityQueue[i]) {\n        sumX += this.velocityQueue[i + 1].x - this.velocityQueue[i].x;\n        sumY += this.velocityQueue[i + 1].y - this.velocityQueue[i].y;\n        this.dt = this.velocityQueue[i + 1].time - this.velocityQueue[i].time;\n      }\n    }\n\n    // return velocity in each direction.\n    return { x: sumX * this.options.velocityMultiplier, y: sumY * this.options.velocityMultiplier };\n  };\n\n  Pep.prototype.revert = function () {\n    if (this.shouldUseCSSTranslation()) {\n      this.moveToUsingTransforms(-this.xTranslation(), -this.yTranslation());\n    }\n\n    this.moveTo(this.initialPosition.left, this.initialPosition.top);\n  };\n\n  //  requestAnimationFrame();\n  //    requestAnimationFrame Polyfill\n  //    More info:\n  //    http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n  Pep.prototype.requestAnimationFrame = function (callback) {\n    return window.requestAnimationFrame && window.requestAnimationFrame(callback) || window.webkitRequestAnimationFrame && window.webkitRequestAnimationFrame(callback) || window.mozRequestAnimationFrame && window.mozRequestAnimationFrame(callback) || window.oRequestAnimationFrame && window.mozRequestAnimationFrame(callback) || window.msRequestAnimationFrame && window.msRequestAnimationFrame(callback) || window.setTimeout(callback, 1000 / 60);\n  };\n\n  //  positionParent();\n  //    add the right positioning to the parent object\n  Pep.prototype.positionParent = function () {\n\n    if (!this.options.constrainTo || this.parentPositioned) return;\n\n    this.parentPositioned = true;\n\n    // make `relative` parent if necessary\n    if (this.options.constrainTo === 'parent') {\n      this.$container.css({ position: 'relative' });\n    } else if (this.options.constrainTo === 'window' && this.$container.get(0).nodeName !== \"#document\" && this.$container.css('position') !== 'static') {\n      this.$container.css({ position: 'static' });\n    }\n  };\n\n  //  placeObject();\n  //    add the right positioning to the object\n  Pep.prototype.placeObject = function () {\n\n    if (this.objectPlaced) return;\n\n    this.objectPlaced = true;\n\n    this.offset = this.options.constrainTo === 'parent' || this.hasNonBodyRelative() ? this.$el.position() : this.$el.offset();\n\n    // better to leave absolute position alone if\n    // it already has one.\n    if (parseInt(this.$el.css('left'), 10)) this.offset.left = this.$el.css('left');\n\n    if (typeof this.options.startPos.left === \"number\") this.offset.left = this.options.startPos.left;\n\n    if (parseInt(this.$el.css('top'), 10)) this.offset.top = this.$el.css('top');\n\n    if (typeof this.options.startPos.top === \"number\") this.offset.top = this.options.startPos.top;\n\n    if (this.options.removeMargins) this.$el.css({ margin: 0 });\n\n    this.$el.css({\n      position: 'absolute',\n      top: this.offset.top,\n      left: this.offset.left\n    });\n  };\n\n  //  hasNonBodyRelative()\n  //    returns true if any parent other than the body\n  //    has relative positioning\n  Pep.prototype.hasNonBodyRelative = function () {\n    return this.$el.parents().filter(function () {\n      var $this = $(this);\n      return $this.is('body') || $this.css('position') === 'relative';\n    }).length > 1;\n  };\n\n  //  setScale()\n  //    set the scale of the object being moved.\n  Pep.prototype.setScale = function (val) {\n    this.scale = val;\n  };\n\n  //  setMultiplier()\n  //    set the multiplier of the object being moved.\n  Pep.prototype.setMultiplier = function (val) {\n    this.options.multiplier = val;\n  };\n\n  //  removeCSSEasing();\n  //    remove CSS easing properties, if necessary\n  Pep.prototype.removeCSSEasing = function () {\n    if (this.cssAnimationsSupported()) this.$el.css(this.getCSSEaseHash(true));\n  };\n\n  //  disableSelect();\n  //    add the property which causes the object\n  //    to not be selected user drags over text areas\n  Pep.prototype.disableSelect = function () {\n\n    this.$el.css({\n      '-webkit-touch-callout': 'none',\n      '-webkit-user-select': 'none',\n      '-khtml-user-select': 'none',\n      '-moz-user-select': 'none',\n      '-ms-user-select': 'none',\n      'user-select': 'none'\n    });\n  };\n\n  // removeActiveClass()\n  //  Removes the active class.\n  Pep.prototype.removeActiveClass = function () {\n    this.$el.removeClass([this.options.activeClass, 'pep-ease'].join(' '));\n  };\n\n  //  handleConstraint();\n  //    returns a hash of where to move to\n  //    when we constrain to parent/window\n  Pep.prototype.handleConstraint = function (dx, dy, accountForTranslation) {\n    var pos = this.$el.position();\n    this.pos.x = pos.left;\n    this.pos.y = pos.top;\n\n    var hash = { x: false, y: false };\n\n    var upperYLimit, upperXLimit, lowerXLimit, lowerYLimit;\n\n    // log our positions\n    this.log({ type: \"pos-coords\", x: this.pos.x, y: this.pos.y });\n\n    if ($.isArray(this.options.constrainTo)) {\n\n      if (this.options.constrainTo[3] !== undefined && this.options.constrainTo[1] !== undefined) {\n        upperXLimit = this.options.constrainTo[1] === false ? Infinity : this.options.constrainTo[1];\n        lowerXLimit = this.options.constrainTo[3] === false ? -Infinity : this.options.constrainTo[3];\n      }\n      if (this.options.constrainTo[0] !== false && this.options.constrainTo[2] !== false) {\n        upperYLimit = this.options.constrainTo[2] === false ? Infinity : this.options.constrainTo[2];\n        lowerYLimit = this.options.constrainTo[0] === false ? -Infinity : this.options.constrainTo[0];\n      }\n\n      // is our object trying to move outside lower X & Y limits?\n      if (this.pos.x + dx < lowerXLimit) hash.x = lowerXLimit;\n      if (this.pos.y + dy < lowerYLimit) hash.y = lowerYLimit;\n    } else if (typeof this.options.constrainTo === 'string') {\n      lowerXLimit = 0;\n      lowerYLimit = 0;\n      upperXLimit = this.$container.width() - this.$el.outerWidth();\n      upperYLimit = this.$container.height() - this.$el.outerHeight();\n\n      // is our object trying to move outside lower X & Y limits?\n      if (this.pos.x + dx < 0) hash.x = 0;\n      if (this.pos.y + dy < 0) hash.y = 0;\n    }\n\n    // is our object trying to move outside upper X & Y limits?\n    if (this.pos.x + dx > upperXLimit) hash.x = upperXLimit;\n    if (this.pos.y + dy > upperYLimit) hash.y = upperYLimit;\n\n    // Account for translation, which makes movement a little tricky.\n    if (this.shouldUseCSSTranslation() && accountForTranslation) {\n      if (hash.x === lowerXLimit && this.xTranslation()) hash.x = lowerXLimit - this.xTranslation();\n      if (hash.x === upperXLimit && this.xTranslation()) hash.x = upperXLimit - this.xTranslation();\n\n      if (hash.y === lowerYLimit && this.yTranslation()) hash.y = lowerYLimit - this.yTranslation();\n      if (hash.y === upperYLimit && this.yTranslation()) hash.y = upperYLimit - this.yTranslation();\n    }\n\n    return hash;\n  };\n\n  //  getCSSEaseHash();\n  //    returns a hash of params used in conjunction\n  //    with this.options.cssEaseString\n  Pep.prototype.getCSSEaseHash = function (reset) {\n    if (typeof reset === 'undefined') reset = false;\n\n    var cssEaseString;\n    if (reset) {\n      cssEaseString = '';\n    } else if (this.CSSEaseHash) {\n      return this.CSSEaseHash;\n    } else {\n      cssEaseString = ['all', this.options.cssEaseDuration + 'ms', this.options.cssEaseString].join(' ');\n    }\n\n    return {\n      '-webkit-transition': cssEaseString, // chrome, safari, etc.\n      '-moz-transition': cssEaseString, // firefox\n      '-ms-transition': cssEaseString, // microsoft\n      '-o-transition': cssEaseString, // opera\n      'transition': cssEaseString // future\n    };\n  };\n\n  // calculateActiveDropRegions()\n  //    sets parent droppables of this.\n  Pep.prototype.calculateActiveDropRegions = function () {\n    var self = this;\n    this.activeDropRegions.length = 0;\n\n    $.each($(this.options.droppable), function (idx, el) {\n      var $el = $(el);\n      if (self.isOverlapping($el, self.$el)) {\n        $el.addClass(self.options.droppableActiveClass);\n        self.activeDropRegions.push($el);\n      } else {\n        $el.removeClass(self.options.droppableActiveClass);\n      }\n    });\n  };\n\n  //  isOverlapping();\n  //    returns true if element a over\n  Pep.prototype.isOverlapping = function ($a, $b) {\n\n    if (this.options.overlapFunction) {\n      return this.options.overlapFunction($a, $b);\n    }\n\n    var rect1 = $a[0].getBoundingClientRect();\n    var rect2 = $b[0].getBoundingClientRect();\n\n    return !(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom);\n  };\n\n  //  isTouch();\n  //    returns whether or not event is a touch event\n  Pep.prototype.isTouch = function (ev) {\n    return ev.type.search('touch') > -1;\n  };\n\n  // isPointerEventCompatible();\n  //    return whether or note our device is pointer\n  //    event compatible; typically means where on a\n  //    touch Win8 device\n  Pep.prototype.isPointerEventCompatible = function () {\n    return \"MSPointerEvent\" in window;\n  };\n\n  // applyMSDefaults();\n  Pep.prototype.applyMSDefaults = function (first_argument) {\n    this.$el.css({\n      '-ms-touch-action': 'none',\n      'touch-action': 'none',\n      '-ms-scroll-chaining': 'none',\n      '-ms-scroll-limit': '0 0 0 0'\n    });\n  };\n\n  //  isValidMoveEvent();\n  //    returns true if we're on a non-touch device -- or --\n  //    if the event is **single** touch event on a touch device\n  Pep.prototype.isValidMoveEvent = function (ev) {\n    return !this.isTouch(ev) || this.isTouch(ev) && ev.originalEvent && ev.originalEvent.touches && ev.originalEvent.touches.length === 1;\n  };\n\n  //  shouldUseCSSTranslation();\n  //    return true if we should use CSS transforms for move the object\n  Pep.prototype.shouldUseCSSTranslation = function () {\n\n    if (this.options.forceNonCSS3Movement) return false;\n\n    if (typeof this.useCSSTranslation !== \"undefined\") return this.useCSSTranslation;\n\n    var useCSSTranslation = false;\n\n    if (!this.options.useCSSTranslation || typeof Modernizr !== \"undefined\" && !Modernizr.csstransforms) {\n      useCSSTranslation = false;\n    } else {\n      useCSSTranslation = true;\n    }\n\n    this.useCSSTranslation = useCSSTranslation;\n    return useCSSTranslation;\n  };\n\n  //  cssAnimationsSupported():\n  //    returns true if the browser supports CSS animations\n  //    which are used for easing..\n  Pep.prototype.cssAnimationsSupported = function () {\n\n    if (typeof this.cssAnimationsSupport !== \"undefined\") {\n      return this.cssAnimationsSupport;\n    }\n\n    // If the page has Modernizr, let them do the heavy lifting.\n    if (typeof Modernizr !== \"undefined\" && Modernizr.cssanimations) {\n      this.cssAnimationsSupport = true;\n      return true;\n    }\n\n    var animation = false,\n        elm = document.createElement('div'),\n        animationstring = 'animation',\n        keyframeprefix = '',\n        domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n        pfx = '';\n\n    if (elm.style.animationName) {\n      animation = true;\n    }\n\n    if (animation === false) {\n      for (var i = 0; i < domPrefixes.length; i++) {\n        if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n          pfx = domPrefixes[i];\n          animationstring = pfx + 'Animation';\n          keyframeprefix = '-' + pfx.toLowerCase() + '-';\n          animation = true;\n          break;\n        }\n      }\n    }\n\n    this.cssAnimationsSupport = animation;\n    return animation;\n  };\n\n  //  hardwareAccelerate();\n  //    add fool-proof CSS3 hardware acceleration.\n  Pep.prototype.hardwareAccelerate = function () {\n    this.$el.css({\n      '-webkit-perspective': 1000,\n      'perspective': 1000,\n      '-webkit-backface-visibility': 'hidden',\n      'backface-visibility': 'hidden'\n    });\n  };\n\n  //  getMovementValues();\n  //    returns object pos, event position, and velocity in each direction.\n  Pep.prototype.getMovementValues = function () {\n    return { ev: this.ev, pos: this.pos, velocity: this.velocity() };\n  };\n\n  //  buildDebugDiv();\n  //    Create a little div in the lower right corner of the window\n  //    for extra info about the object currently moving\n  Pep.prototype.buildDebugDiv = function () {\n\n    // Build the debugDiv and it's inner HTML -- if necessary\n    var $debugDiv;\n    if ($('#pep-debug').length === 0) {\n      $debugDiv = $('<div></div>');\n      $debugDiv.attr('id', 'pep-debug').append(\"<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>\").append(\"<div id='pep-debug-event'>no event</div>\").append(\"<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\").append(\"<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\").append(\"<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\").append(\"<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\").css({\n        position: 'fixed',\n        bottom: 5,\n        right: 5,\n        zIndex: 99999,\n        textAlign: 'right',\n        fontFamily: 'Arial, sans',\n        fontSize: 10,\n        border: '1px solid #DDD',\n        padding: '3px',\n        background: 'white',\n        color: '#333'\n      });\n    }\n\n    var self = this;\n    setTimeout(function () {\n      self.debugElements = {\n        $event: $(\"#pep-debug-event\"),\n        $velocityX: $(\"#pep-debug-velocity .pep-x\"),\n        $velocityY: $(\"#pep-debug-velocity .pep-y\"),\n        $dX: $(\"#pep-debug-delta .pep-x\"),\n        $dY: $(\"#pep-debug-delta .pep-y\"),\n        $evCoordsX: $(\"#pep-debug-ev-coords .pep-x\"),\n        $evCoordsY: $(\"#pep-debug-ev-coords .pep-y\"),\n        $posCoordsX: $(\"#pep-debug-pos-coords .pep-x\"),\n        $posCoordsY: $(\"#pep-debug-pos-coords .pep-y\")\n      };\n    }, 0);\n\n    $('body').append($debugDiv);\n  };\n\n  // log()\n  Pep.prototype.log = function (opts) {\n    if (!this.options.debug) return;\n\n    switch (opts.type) {\n      case \"event\":\n        this.debugElements.$event.text(opts.event);\n        break;\n      case \"pos-coords\":\n        this.debugElements.$posCoordsX.text(opts.x);\n        this.debugElements.$posCoordsY.text(opts.y);\n        break;\n      case \"event-coords\":\n        this.debugElements.$evCoordsX.text(opts.x);\n        this.debugElements.$evCoordsY.text(opts.y);\n        break;\n      case \"delta\":\n        this.debugElements.$dX.text(opts.x);\n        this.debugElements.$dY.text(opts.y);\n        break;\n      case \"velocity\":\n        var vel = this.velocity();\n        this.debugElements.$velocityX.text(Math.round(vel.x));\n        this.debugElements.$velocityY.text(Math.round(vel.y));\n        break;\n    }\n  };\n\n  // toggle()\n  //  toggle the pep object\n  Pep.prototype.toggle = function (on) {\n    if (typeof on === \"undefined\") {\n      this.disabled = !this.disabled;\n    } else {\n      this.disabled = !on;\n    }\n  };\n\n  //  *** Special Easings functions ***\n  //    Used for JS easing fallback\n  //    We can use any of these for a\n  //    good intertia ease\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeOutCirc: function (x, t, b, c, d) {\n      return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    },\n    easeOutExpo: function (x, t, b, c, d) {\n      return t === d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n    }\n  });\n\n  //  wrap it\n  //    A really lightweight plugin wrapper around the constructor,\n  //    preventing against multiple instantiations.\n  $.fn[pluginName] = function (options) {\n    return this.each(function () {\n      if (!$.data(this, 'plugin_' + pluginName)) {\n        var pepObj = new Pep(this, options);\n        $.data(this, 'plugin_' + pluginName, pepObj);\n        $.pep.peps.push(pepObj);\n      }\n    });\n  };\n\n  //  The   _   ___ ___\n  //       /_\\ | _ \\_ _|\n  //      / _ \\|  _/| |\n  //     /_/ \\_\\_| |___|\n  //\n  $.pep = {};\n  $.pep.peps = [];\n  $.pep.toggleAll = function (on) {\n    $.each(this.peps, function (index, pepObj) {\n      pepObj.toggle(on);\n    });\n  };\n\n  $.pep.unbind = function ($obj) {\n    var pep = $obj.data('plugin_' + pluginName);\n\n    if (typeof pep === 'undefined') return;\n\n    pep.toggle(false);\n    pep.unsubscribe();\n    $obj.removeData('plugin_' + pluginName);\n  };\n})(jQuery, window);","ast":null,"map":{"version":3,"sources":["/client/styles/js/jqueryPep.js"],"names":[],"mappings":"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","file":"/client/styles/js/jqueryPep.js.map","sourcesContent":["/*\n *         ________                                                            ________\n *         ______(_)_____ ____  __________________  __ _____________________   ______(_)_______\n *         _____  /_  __ `/  / / /  _ \\_  ___/_  / / / ___  __ \\  _ \\__  __ \\  _____  /__  ___/\n *         ____  / / /_/ // /_/ //  __/  /   _  /_/ /____  /_/ /  __/_  /_/ /______  / _(__  )\n *         ___  /  \\__, / \\__,_/ \\___//_/    _\\__, /_(_)  .___/\\___/_  .___/_(_)__  /  /____/\n *         /___/     /_/                     /____/    /_/          /_/        /___/\n *\n *        http://pep.briangonzalez.org\n *        Kinetic drag for mobile/desktop.\n *\n *        Copyright (c) 2014 Brian Gonzalez\n *        Licensed under the MIT license.\n *\n *        Title generated using \"Speed\" @\n *        http://patorjk.com/software/taag/#p=display&f=Speed&t=jquery.pep.js\n */\n\n;(function ( $, window, undefined ) {\n\n  \"use strict\";\n\n  //  create the defaults once\n  var pluginName = 'pep';\n  var defaults   = {\n\n    // Options\n    // ----------------------------------------------------------------------------------------------\n    // See ** https://github.com/briangonzalez/jquery.pep.js ** for fully documented options.\n    // It was too hard to manage options here and in the readme.\n    // ----------------------------------------------------------------------------------------------\n    initiate:                       function(){},\n    start:                          function(){},\n    drag:                           function(){},\n    stop:                           function(){},\n    easing:                         null,\n    rest:                           function(){},\n    moveTo:                         false,\n    callIfNotStarted:               ['stop', 'rest'],\n    startThreshold:                 [0,0],\n    grid:                           [1,1],\n    debug:                          false,\n    activeClass:                    'pep-active',\n    multiplier:                     1,\n    velocityMultiplier:             2.5,\n    shouldPreventDefault:           true,\n    allowDragEventPropagation:      true,\n    stopEvents:                     '',\n    hardwareAccelerate:             true,\n    useCSSTranslation:              true,\n    disableSelect:                  true,\n    cssEaseString:                  \"cubic-bezier(0.190, 1.000, 0.220, 1.000)\",\n    cssEaseDuration:                1000,\n    shouldEase:                     true,\n    droppable:                      false,\n    droppableActiveClass:           'pep-dpa',\n    overlapFunction:                false,\n    constrainTo:                    false,\n    removeMargins:                  true,\n    place:                          true,\n    deferPlacement:                 false,\n    axis:                           null,\n    forceNonCSS3Movement:           false,\n    elementsWithInteraction:        'input',\n    revert:                         false,\n    revertAfter:                    'stop',\n    revertIf:                       function(){ return true; },\n    ignoreRightClick:               true,\n    startPos:                       {\n        left:                           null,\n        top:                            null\n    }\n  };\n\n  //  ---------------------------------\n  //  -----  Our main Pep object  -----\n  //  ---------------------------------\n  function Pep( el, options ) {\n\n    this.name = pluginName;\n\n    // reference to our DOM object\n    // and it's jQuery equivalent.\n    this.el  = el;\n    this.$el = $(el);\n\n    //  merge in defaults\n    this.options    = $.extend( {}, defaults, options) ;\n\n    // store document/body so we don't need to keep grabbing them\n    // throughout the code\n    this.$document  = $(this.$el[0].ownerDocument);\n    this.$body      = this.$document.find('body');\n\n    //  Create our triggers based on touch/click device\n    this.moveTrigger        = \"MSPointerMove touchmove mousemove\";\n    this.startTrigger       = \"MSPointerDown touchstart mousedown\";\n    this.stopTrigger        = \"MSPointerUp touchend mouseup\";\n    this.startTriggerArray  = this.startTrigger.split(' ');\n    this.moveTriggerArray   = this.moveTrigger.split(' ');\n    this.stopTriggerArray   = this.stopTrigger.split(' ');\n    this.stopEvents         = [ this.stopTrigger, this.options.stopEvents ].join(' ');\n\n    if ( this.options.constrainTo === 'window' )\n      this.$container = this.$document;\n    else if ( this.options.constrainTo && (this.options.constrainTo !== 'parent') )\n      this.$container = $(this.options.constrainTo);\n    else\n      this.$container = this.$el.parent();\n\n    // IE need this\n    if ( this.isPointerEventCompatible() )\n      this.applyMSDefaults();\n\n    this.CSSEaseHash    = this.getCSSEaseHash();\n    this.scale          = 1;\n    this.started        = false;\n    this.disabled       = false;\n    this.activeDropRegions = [];\n    this.resetVelocityQueue();\n\n    this.init();\n    return this;\n  }\n\n  //  init();\n  //    initialization logic\n  //    you already have access to the DOM el and the options via the instance,\n  //    e.g., this.el and this.options\n  Pep.prototype.init = function () {\n\n    if ( this.options.debug )\n      this.buildDebugDiv();\n\n    if ( this.options.disableSelect )\n      this.disableSelect();\n\n    // position the parent & place the object, if necessary.\n    if ( this.options.place && !this.options.deferPlacement ) {\n      this.positionParent();\n      this.placeObject();\n    }\n\n    this.ev = {};       // to store our event movements\n    this.pos = {};      // to store positions\n    this.subscribe();\n  };\n\n  //  subscribe();\n  //    useful in the event we want to programmatically\n  //    interact with our Pep object.\n  //      e.g.:     $('#pep').trigger('stop')\n  Pep.prototype.subscribe = function () {\n    var self = this;\n\n    // Subscribe to our start event\n    this.onStartEvent = function(ev){ self.handleStart(ev); };\n    this.$el.on(this.startTrigger, this.onStartEvent);\n\n    // Prevent start events from being gobbled by elements that should allow user interaction\n    this.onStartEventOnElementsWithInteraction = function(ev){ ev.stopPropagation(); };\n    this.$el.on(\n      this.startTrigger,\n      this.options.elementsWithInteraction,\n      this.onStartEventOnElementsWithInteraction\n    );\n\n    // Subscribe to our stop event\n    this.onStopEvents = function(ev) { self.handleStop(ev); };\n    this.$document.on(this.stopEvents, this.onStopEvents);\n\n    // Subscribe to our move event\n    this.onMoveEvents = function(ev){ self.moveEvent = ev; };\n    this.$document.on(this.moveTrigger, this.onMoveEvents);\n  };\n\n  Pep.prototype.unsubscribe = function() {\n    this.$el.off(this.startTrigger, this.onStartEvent);\n    this.$el.off(\n      this.startTrigger,\n      this.options.elementsWithInteraction,\n      this.onStartEventOnElementsWithInteraction\n    );\n    this.$document.off(this.stopEvents, this.onStopEvents);\n    this.$document.off(this.moveTrigger, this.onMoveEvents);\n  };\n\n  //  handleStart();\n  //    once this.startTrigger occurs, handle all of the logic\n  //    that must go on. This is where Pep's heavy lifting is done.\n  Pep.prototype.handleStart = function(ev) {\n    var self = this;\n\n            // only continue chugging if our start event is a valid move event.\n            if ( this.isValidMoveEvent(ev) && !this.disabled ){\n\n              if( !(this.options.ignoreRightClick && ev.which === 3) ) {\n\n                    // IE10 Hack. Me not happy.\n                    if ( this.isPointerEventCompatible() && ev.preventManipulation )\n                      ev.preventManipulation();\n\n                    // normalize event\n                    ev = this.normalizeEvent(ev);\n\n                    // position the parent & place the object, if necessary.\n                    if ( this.options.place && this.options.deferPlacement ) {\n                      this.positionParent();\n                      this.placeObject();\n                    }\n\n                    // log it\n                    this.log({ type: 'event', event: ev.type });\n\n                    // hardware accelerate, if necessary.\n                    if ( this.options.hardwareAccelerate && !this.hardwareAccelerated ) {\n                      this.hardwareAccelerate();\n                      this.hardwareAccelerated = true;\n                    }\n\n                    // fire user's initiate event.\n                    var shouldContinue = this.options.initiate.call(this, ev, this);\n                    if ( shouldContinue === false )\n                      return;\n\n\n                    // cancel the rest timeout\n                    clearTimeout( this.restTimeout );\n\n                    // add active class and reset css animation, if necessary\n                    this.$el.addClass( this.options.activeClass );\n                    this.removeCSSEasing();\n\n                    // store event's x & y values for later use\n                    this.startX = this.ev.x = ev.pep.x;\n                    this.startY = this.ev.y = ev.pep.y;\n\n                    // store initial offset.\n                    this.initialPosition = this.initialPosition || this.$el.position();\n\n                    // store the initial touch/click event, used to calculate the inital delta values.\n                    this.startEvent = this.moveEvent = ev;\n\n                    // make object active, so watchMoveLoop starts looping.\n                    this.active     = true;\n\n                    // preventDefault(), is necessary\n                    if ( this.options.shouldPreventDefault )\n                      ev.preventDefault();\n\n                    // allow / disallow event bubbling\n                    if ( !this.options.allowDragEventPropagation )\n                      ev.stopPropagation();\n\n                    // animation loop to ensure we don't fire\n                    // too many unneccessary repaints\n                    (function watchMoveLoop(){\n                        if ( !self.active ) return;\n                        self.handleMove();\n                        self.requestAnimationFrame( watchMoveLoop );\n                    })();\n\n                    (function watchEasingLoop(){\n                        if ( !self.options.easing ) return;\n                        if ( self.easing ) self.options.easing.call(self, null, self);\n                        self.requestAnimationFrame( watchEasingLoop );\n                    })();\n              }\n            }\n  };\n\n  //  handleMove();\n  //    the logic for when the move events occur\n  Pep.prototype.handleMove = function() {\n\n            // setup our event object\n            if ( typeof(this.moveEvent) === 'undefined' )\n              return;\n\n            // get our move event's x & y\n            var ev      = this.normalizeEvent( this.moveEvent );\n            var curX    = window.parseInt(ev.pep.x / this.options.grid[0]) * this.options.grid[0];\n            var curY    = window.parseInt(ev.pep.y / this.options.grid[1]) * this.options.grid[1];\n\n            // last in, first out (LIFO) queue to help us manage velocity\n            this.addToLIFO( { time: ev.timeStamp, x: curX, y: curY } );\n\n            // calculate values necessary to moving\n            var dx, dy;\n\n            if ( $.inArray( ev.type, this.startTriggerArray ) > -1  ){\n              dx = 0;\n              dy = 0;\n            } else{\n              dx = curX - this.ev.x;\n              dy = curY - this.ev.y;\n            }\n\n            this.dx   = dx;\n            this.dy   = dy;\n            this.ev.x = curX;\n            this.ev.y = curY;\n\n            // no movement in either direction -- so return\n            if (dx === 0 && dy === 0){\n              this.log({ type: 'event', event: '** stopped **' });\n              return;\n            }\n\n            // check if object has moved past X/Y thresholds\n            // if so, fire users start event\n            var initialDx  = Math.abs(this.startX - curX);\n            var initialDy  = Math.abs(this.startY - curY);\n            if ( !this.started && ( initialDx > this.options.startThreshold[0] || initialDy > this.options.startThreshold[1] ) ){\n              this.started = true;\n              this.$el.addClass('pep-start');\n              this.options.start.call(this, this.startEvent, this);\n            }\n\n            // Calculate our drop regions\n            if ( this.options.droppable ) {\n              this.calculateActiveDropRegions();\n            }\n\n            // fire user's drag event.\n            var continueDrag = this.options.drag.call(this, ev, this);\n\n            if ( continueDrag === false ) {\n              this.resetVelocityQueue();\n              return;\n            }\n\n            // log the move trigger & event position\n            this.log({ type: 'event', event: ev.type });\n            this.log({ type: 'event-coords', x: this.ev.x, y: this.ev.y });\n            this.log({ type: 'velocity' });\n\n            this.doMoveTo(dx, dy);\n  };\n\n  Pep.prototype.doMoveTo = function(dx, dy) {\n            var hash = this.handleConstraint(dx, dy);\n            var xOp, yOp;\n\n            // if using not using CSS transforms, move object via absolute position\n            if ( typeof this.options.moveTo === 'function') {\n              xOp     = ( dx >= 0 ) ? \"+=\" + Math.abs(dx/this.scale)*this.options.multiplier : \"-=\" + Math.abs(dx/this.scale)*this.options.multiplier;\n              yOp     = ( dy >= 0 ) ? \"+=\" + Math.abs(dy/this.scale)*this.options.multiplier : \"-=\" + Math.abs(dy/this.scale)*this.options.multiplier;\n\n              if ( this.options.constrainTo ) {\n                xOp = (hash.x !== false) ? hash.x : xOp;\n                yOp = (hash.y !== false) ? hash.y : yOp;\n              }\n\n              // only move along single axis, if necessary\n              if ( this.options.axis  === 'x' ) yOp = hash.y;\n              if ( this.options.axis  === 'y' ) xOp = hash.x;\n\n              this.options.moveTo.call(this, xOp, yOp);\n            } else if ( !this.shouldUseCSSTranslation() ){\n              xOp     = ( dx >= 0 ) ? \"+=\" + Math.abs(dx/this.scale)*this.options.multiplier : \"-=\" + Math.abs(dx/this.scale)*this.options.multiplier;\n              yOp     = ( dy >= 0 ) ? \"+=\" + Math.abs(dy/this.scale)*this.options.multiplier : \"-=\" + Math.abs(dy/this.scale)*this.options.multiplier;\n\n              if ( this.options.constrainTo ) {\n                xOp = (hash.x !== false) ? hash.x : xOp;\n                yOp = (hash.y !== false) ? hash.y : yOp;\n              }\n\n              // only move along single axis, if necessary\n              if ( this.options.axis  === 'x' ) yOp = hash.y;\n              if ( this.options.axis  === 'y' ) xOp = hash.x;\n\n              this.moveTo(xOp, yOp);\n            }\n            else {\n\n              dx = (dx/this.scale)*this.options.multiplier;\n              dy = (dy/this.scale)*this.options.multiplier;\n\n              if ( this.options.constrainTo ) {\n                dx = (hash.x === false) ? dx : 0 ;\n                dy = (hash.y === false) ? dy : 0 ;\n              }\n\n              // only move along single axis, if necessary\n              if ( this.options.axis  === 'x' ) dy = 0;\n              if ( this.options.axis  === 'y' ) dx = 0;\n\n              this.moveToUsingTransforms( dx, dy );\n            }\n  };\n\n  //  handleStop();\n  //    the logic for when the stop events occur\n  Pep.prototype.handleStop = function(ev) {\n\n            // no need to handle stop event if we're not active\n            if (!this.active)\n              return;\n\n            // log it\n            this.log({ type: 'event', event: ev.type });\n\n            // make object inactive, so watchMoveLoop returns\n            this.active = false;\n\n            // make object easing.\n            this.easing = true;\n\n            // remove our start class\n            this.$el.removeClass('pep-start')\n                    .addClass('pep-ease');\n\n            // Calculate our drop regions\n            if ( this.options.droppable ) {\n              this.calculateActiveDropRegions();\n            }\n\n            // fire user's stop event.\n            if ( this.started || (!this.started &&  $.inArray('stop', this.options.callIfNotStarted) > -1 ) ) {\n              this.options.stop.call(this, ev, this);\n            }\n\n            // ease the object, if necessary.\n            if (this.options.shouldEase) {\n              this.ease(ev, this.started);\n            } else {\n              this.removeActiveClass();\n            }\n\n            if ( this.options.revert && (this.options.revertAfter === 'stop' || !this.options.shouldEase) && ( this.options.revertIf && this.options.revertIf.call(this) ) ) {\n              this.revert();\n            }\n\n            // this must be set to false after\n            // the user's stop event is called, so the dev\n            // has access to it.\n            this.started = false;\n\n            // reset the velocity queue\n            this.resetVelocityQueue();\n\n  };\n\n  //  ease();\n  //    used in conjunction with the LIFO queue\n  //    to ease the object after stop\n  Pep.prototype.ease = function(ev, started){\n\n            var pos       = this.$el.position();\n            var vel       = this.velocity();\n            var dt        = this.dt;\n            var x         = (vel.x/this.scale) * this.options.multiplier;\n            var y         = (vel.y/this.scale) * this.options.multiplier;\n\n            var hash      = this.handleConstraint(x, y, true);\n\n            // ✪  Apply the CSS3 animation easing magic  ✪\n            if ( this.cssAnimationsSupported() )\n              this.$el.css( this.getCSSEaseHash() );\n\n            var xOp = ( vel.x > 0 ) ? \"+=\" + x : \"-=\" + Math.abs(x);\n            var yOp = ( vel.y > 0 ) ? \"+=\" + y : \"-=\" + Math.abs(y);\n\n            if ( this.options.constrainTo ) {\n              xOp = (hash.x !== false) ? hash.x : xOp;\n              yOp = (hash.y !== false) ? hash.y : yOp;\n            }\n\n            if ( this.options.axis  === 'x' ) yOp = \"+=0\";\n            if ( this.options.axis  === 'y' ) xOp = \"+=0\";\n\n            // ease it via JS, the last true tells it to animate.\n            var jsAnimateFallback = !this.cssAnimationsSupported() || this.options.forceNonCSS3Movement;\n            if (typeof this.options.moveTo === 'function') {\n              this.options.moveTo.call(this, xOp, yOp);\n            } else {\n              this.moveTo(xOp, yOp, jsAnimateFallback);\n            }\n\n            // when the rest occurs, remove active class and call\n            // user's rest event.\n            var self = this;\n            this.restTimeout = setTimeout( function(){\n\n              // Calculate our drop regions\n              if ( self.options.droppable ) {\n                self.calculateActiveDropRegions();\n              }\n\n              self.easing = false;\n\n              // call users rest event.\n              if ( started || ( !started && $.inArray('rest', self.options.callIfNotStarted) > -1 ) ) {\n                self.options.rest.call(self, ev, self);\n              }\n\n              // revert thy self!\n              if ( self.options.revert && (self.options.revertAfter === 'ease' && self.options.shouldEase) && ( self.options.revertIf && self.options.revertIf.call(self) ) ) {\n                self.revert();\n              }\n\n              // remove active class\n              self.removeActiveClass();\n\n            }, this.options.cssEaseDuration );\n\n  };\n\n  // normalizeEvent()\n  Pep.prototype.normalizeEvent = function(ev) {\n      ev.pep        = {};\n\n      if ( this.isPointerEventCompatible() || !this.isTouch(ev) ) {\n\n        if ( ev.pageX  ) {\n          ev.pep.x      = ev.pageX;\n          ev.pep.y      = ev.pageY;\n        } else {\n          ev.pep.x      = ev.originalEvent.pageX;\n          ev.pep.y      = ev.originalEvent.pageY;\n        }\n\n        ev.pep.type   = ev.type;\n\n      }\n      else {\n        ev.pep.x      = ev.originalEvent.touches[0].pageX;\n        ev.pep.y      = ev.originalEvent.touches[0].pageY;\n        ev.pep.type   = ev.type;\n      }\n\n       return ev;\n   };\n\n  // resetVelocityQueue()\n  //\n  Pep.prototype.resetVelocityQueue = function() {\n    this.velocityQueue = new Array(5);\n  };\n\n  //  moveTo();\n  //    move the object to an x and/or y value\n  //    using jQuery's .css function -- this fxn uses the\n  //    .css({top: \"+=20\", left: \"-=30\"}) syntax\n  Pep.prototype.moveTo = function(x,y, animate) {\n\n    this.log({ type: 'delta', x: x, y: y });\n    if ( animate ) {\n      this.$el.animate({ top: y, left: x }, 0, 'easeOutQuad', {queue: false});\n    } else{\n      this.$el.stop(true, false).css({ top: y , left: x });\n    }\n\n  };\n\n  //  moveToUsingTransforms();\n  //    move the object to an x and/or y value\n  Pep.prototype.moveToUsingTransforms = function(x,y) {\n\n    // Check for our initial values if we don't have them.\n    var matrixArray  = this.matrixToArray( this.matrixString() );\n    if ( !this.cssX )\n      this.cssX = this.xTranslation( matrixArray );\n\n    if ( !this.cssY )\n      this.cssY = this.yTranslation( matrixArray );\n\n    // CSS3 transforms are additive from current position\n    this.cssX = this.cssX + x;\n    this.cssY = this.cssY + y;\n\n    this.log({ type: 'delta', x: x, y: y });\n\n    matrixArray[4]    = this.cssX;\n    matrixArray[5]    = this.cssY;\n\n    this.translation  = this.arrayToMatrix( matrixArray );\n    this.transform( this.translation );\n  };\n\n  Pep.prototype.transform = function(value) {\n    this.$el.css({\n        '-webkit-transform': value,\n           '-moz-transform': value,\n            '-ms-transform': value,\n             '-o-transform': value,\n                'transform': value  });\n  };\n\n  Pep.prototype.xTranslation = function(matrixArray) {\n    matrixArray  = matrixArray || this.matrixToArray( this.matrixString() );\n    return parseInt(matrixArray[4], 10);\n  };\n\n  Pep.prototype.yTranslation = function(matrixArray) {\n    matrixArray  = matrixArray || this.matrixToArray( this.matrixString() );\n    return parseInt(matrixArray[5], 10);\n  };\n\n\n  // 3 helper functions for working with the\n  // objects CSS3 transforms\n  // matrixString\n  // matrixToArray\n  // arrayToMatrix\n  Pep.prototype.matrixString = function() {\n\n    var validMatrix = function(o){\n      return !( !o || o === 'none' || o.indexOf('matrix') < 0  );\n    };\n\n    var matrix = \"matrix(1, 0, 0, 1, 0, 0)\";\n\n    if ( validMatrix( this.$el.css('-webkit-transform') ) )\n      matrix = this.$el.css('-webkit-transform');\n\n    if ( validMatrix( this.$el.css('-moz-transform') ) )\n      matrix = this.$el.css('-moz-transform');\n\n    if ( validMatrix( this.$el.css('-ms-transform') ) )\n      matrix = this.$el.css('-ms-transform');\n\n    if ( validMatrix( this.$el.css('-o-transform') ) )\n      matrix = this.$el.css('-o-transform');\n\n    if ( validMatrix( this.$el.css('transform') ) )\n      matrix = this.$el.css('transform');\n\n    return matrix;\n  };\n\n  Pep.prototype.matrixToArray = function(str) {\n      return str.split('(')[1].split(')')[0].split(',');\n  };\n\n  Pep.prototype.arrayToMatrix = function(array) {\n      return \"matrix(\" +  array.join(',')  + \")\";\n  };\n\n  //  addToLIFO();\n  //    a Last-In/First-Out array of the 5 most recent\n  //    velocity points, which is used for easing\n  Pep.prototype.addToLIFO = function(val){\n    // last in, first out\n    var arr = this.velocityQueue;\n    arr = arr.slice(1, arr.length);\n    arr.push(val);\n    this.velocityQueue = arr;\n  };\n\n  //  velocity();\n  //    using the LIFO, calculate velocity and return\n  //    velocity in each direction (x & y)\n  Pep.prototype.velocity = function(){\n    var sumX = 0;\n    var sumY = 0;\n\n    for ( var i = 0; i < this.velocityQueue.length -1; i++  ){\n      if ( this.velocityQueue[i] ){\n        sumX        += (this.velocityQueue[i+1].x - this.velocityQueue[i].x);\n        sumY        += (this.velocityQueue[i+1].y - this.velocityQueue[i].y);\n        this.dt     = ( this.velocityQueue[i+1].time - this.velocityQueue[i].time );\n      }\n    }\n\n    // return velocity in each direction.\n    return { x: sumX*this.options.velocityMultiplier, y: sumY*this.options.velocityMultiplier};\n  };\n\n  Pep.prototype.revert = function() {\n    if ( this.shouldUseCSSTranslation() ){\n      this.moveToUsingTransforms(-this.xTranslation(),-this.yTranslation());\n    }\n\n    this.moveTo(this.initialPosition.left, this.initialPosition.top);\n  };\n\n  //  requestAnimationFrame();\n  //    requestAnimationFrame Polyfill\n  //    More info:\n  //    http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n  Pep.prototype.requestAnimationFrame = function(callback) {\n    return  window.requestAnimationFrame        && window.requestAnimationFrame(callback)         ||\n            window.webkitRequestAnimationFrame  && window.webkitRequestAnimationFrame(callback)   ||\n            window.mozRequestAnimationFrame     && window.mozRequestAnimationFrame(callback)      ||\n            window.oRequestAnimationFrame       && window.mozRequestAnimationFrame(callback)      ||\n            window.msRequestAnimationFrame      && window.msRequestAnimationFrame(callback)       ||\n            window.setTimeout(callback, 1000 / 60);\n  };\n\n  //  positionParent();\n  //    add the right positioning to the parent object\n  Pep.prototype.positionParent = function() {\n\n    if ( !this.options.constrainTo || this.parentPositioned )\n      return;\n\n    this.parentPositioned = true;\n\n    // make `relative` parent if necessary\n    if ( this.options.constrainTo === 'parent' ) {\n      this.$container.css({ position: 'relative' });\n    } else if ( this.options.constrainTo === 'window'             &&\n                this.$container.get(0).nodeName !== \"#document\"   &&\n                this.$container.css('position') !== 'static' )\n    {\n      this.$container.css({ position: 'static' });\n    }\n\n  };\n\n  //  placeObject();\n  //    add the right positioning to the object\n  Pep.prototype.placeObject = function() {\n\n    if ( this.objectPlaced )\n      return;\n\n    this.objectPlaced = true;\n\n    this.offset = (this.options.constrainTo === 'parent' || this.hasNonBodyRelative() ) ?\n                    this.$el.position() : this.$el.offset();\n\n    // better to leave absolute position alone if\n    // it already has one.\n    if ( parseInt( this.$el.css('left'), 10 ) )\n      this.offset.left = this.$el.css('left');\n\n    if (typeof this.options.startPos.left === \"number\")\n        this.offset.left = this.options.startPos.left;\n\n    if ( parseInt( this.$el.css('top'), 10 ) )\n      this.offset.top = this.$el.css('top');\n\n    if (typeof this.options.startPos.top === \"number\")\n        this.offset.top = this.options.startPos.top;\n\n    if ( this.options.removeMargins )\n      this.$el.css({margin: 0});\n\n    this.$el.css({\n      position:   'absolute',\n      top:        this.offset.top,\n      left:       this.offset.left\n    });\n\n  };\n\n  //  hasNonBodyRelative()\n  //    returns true if any parent other than the body\n  //    has relative positioning\n  Pep.prototype.hasNonBodyRelative = function() {\n    return this.$el.parents().filter(function() {\n        var $this = $(this);\n        return $this.is('body') || $this.css('position') === 'relative';\n    }).length > 1;\n  };\n\n  //  setScale()\n  //    set the scale of the object being moved.\n  Pep.prototype.setScale = function(val) {\n    this.scale = val;\n  };\n\n  //  setMultiplier()\n  //    set the multiplier of the object being moved.\n  Pep.prototype.setMultiplier = function(val) {\n    this.options.multiplier = val;\n  };\n\n  //  removeCSSEasing();\n  //    remove CSS easing properties, if necessary\n  Pep.prototype.removeCSSEasing = function() {\n    if ( this.cssAnimationsSupported() )\n      this.$el.css( this.getCSSEaseHash(true) );\n  };\n\n  //  disableSelect();\n  //    add the property which causes the object\n  //    to not be selected user drags over text areas\n  Pep.prototype.disableSelect = function() {\n\n    this.$el.css({\n      '-webkit-touch-callout' : 'none',\n        '-webkit-user-select' : 'none',\n         '-khtml-user-select' : 'none',\n           '-moz-user-select' : 'none',\n            '-ms-user-select' : 'none',\n                'user-select' : 'none'\n    });\n\n  };\n\n  // removeActiveClass()\n  //  Removes the active class.\n  Pep.prototype.removeActiveClass = function() {\n    this.$el.removeClass( [this.options.activeClass, 'pep-ease'].join(' ') );\n  };\n\n  //  handleConstraint();\n  //    returns a hash of where to move to\n  //    when we constrain to parent/window\n  Pep.prototype.handleConstraint = function(dx, dy, accountForTranslation) {\n    var pos               = this.$el.position();\n    this.pos.x            = pos.left;\n    this.pos.y            = pos.top;\n\n    var hash              = { x: false, y: false };\n\n    var upperYLimit, upperXLimit, lowerXLimit, lowerYLimit;\n\n    // log our positions\n    this.log({ type: \"pos-coords\", x: this.pos.x, y: this.pos.y});\n\n    if ( $.isArray( this.options.constrainTo ) ) {\n\n      if ( this.options.constrainTo[3] !== undefined && this.options.constrainTo[1] !== undefined ) {\n        upperXLimit     = this.options.constrainTo[1] === false ?  Infinity : this.options.constrainTo[1];\n        lowerXLimit     = this.options.constrainTo[3] === false ? -Infinity : this.options.constrainTo[3];\n      }\n      if ( this.options.constrainTo[0] !== false && this.options.constrainTo[2] !== false ) {\n        upperYLimit       = this.options.constrainTo[2] === false ?  Infinity : this.options.constrainTo[2];\n        lowerYLimit       = this.options.constrainTo[0] === false ? -Infinity : this.options.constrainTo[0];\n      }\n\n      // is our object trying to move outside lower X & Y limits?\n      if ( this.pos.x + dx < lowerXLimit)     hash.x = lowerXLimit;\n      if ( this.pos.y + dy < lowerYLimit)     hash.y = lowerYLimit;\n\n    } else if ( typeof this.options.constrainTo === 'string' ) {\n      lowerXLimit       = 0;\n      lowerYLimit       = 0;\n      upperXLimit       = this.$container.width()  - this.$el.outerWidth();\n      upperYLimit       = this.$container.height() - this.$el.outerHeight();\n\n      // is our object trying to move outside lower X & Y limits?\n      if ( this.pos.x + dx < 0 )              hash.x = 0;\n      if ( this.pos.y + dy < 0 )              hash.y = 0;\n    }\n\n    // is our object trying to move outside upper X & Y limits?\n    if ( this.pos.x + dx > upperXLimit )    hash.x = upperXLimit;\n    if ( this.pos.y + dy > upperYLimit )    hash.y = upperYLimit;\n\n    // Account for translation, which makes movement a little tricky.\n    if ( this.shouldUseCSSTranslation() && accountForTranslation ){\n      if (hash.x === lowerXLimit && this.xTranslation() ) hash.x = lowerXLimit - this.xTranslation();\n      if (hash.x === upperXLimit && this.xTranslation() ) hash.x = upperXLimit - this.xTranslation();\n\n      if (hash.y === lowerYLimit && this.yTranslation() ) hash.y = lowerYLimit - this.yTranslation();\n      if (hash.y === upperYLimit && this.yTranslation() ) hash.y = upperYLimit - this.yTranslation();\n    }\n\n    return hash;\n  };\n\n  //  getCSSEaseHash();\n  //    returns a hash of params used in conjunction\n  //    with this.options.cssEaseString\n  Pep.prototype.getCSSEaseHash = function(reset){\n    if ( typeof(reset) === 'undefined' ) reset = false;\n\n    var cssEaseString;\n    if (reset){\n      cssEaseString = '';\n    } else if ( this.CSSEaseHash ) {\n      return this.CSSEaseHash;\n    } else {\n      cssEaseString = ['all', this.options.cssEaseDuration + 'ms', this.options.cssEaseString].join(' ');\n    }\n\n    return {\n                  '-webkit-transition'   : cssEaseString,   // chrome, safari, etc.\n                     '-moz-transition'   : cssEaseString,   // firefox\n                      '-ms-transition'   : cssEaseString,   // microsoft\n                       '-o-transition'   : cssEaseString,   // opera\n                          'transition'   : cssEaseString    // future\n          };\n  };\n\n  // calculateActiveDropRegions()\n  //    sets parent droppables of this.\n  Pep.prototype.calculateActiveDropRegions = function() {\n    var self = this;\n    this.activeDropRegions.length = 0;\n\n    $.each( $(this.options.droppable), function(idx, el){\n      var $el = $(el);\n      if ( self.isOverlapping($el, self.$el) ){\n        $el.addClass(self.options.droppableActiveClass);\n        self.activeDropRegions.push($el);\n      } else {\n        $el.removeClass(self.options.droppableActiveClass);\n      }\n    });\n\n  };\n\n  //  isOverlapping();\n  //    returns true if element a over\n  Pep.prototype.isOverlapping = function($a,$b) {\n\n    if ( this.options.overlapFunction ) {\n      return this.options.overlapFunction($a,$b);\n    }\n\n    var rect1 = $a[0].getBoundingClientRect();\n    var rect2 = $b[0].getBoundingClientRect();\n\n    return !( rect1.right   < rect2.left  ||\n              rect1.left    > rect2.right ||\n              rect1.bottom  < rect2.top   ||\n              rect1.top     > rect2.bottom  );\n  };\n\n  //  isTouch();\n  //    returns whether or not event is a touch event\n  Pep.prototype.isTouch = function(ev){\n    return ev.type.search('touch') > -1;\n  };\n\n  // isPointerEventCompatible();\n  //    return whether or note our device is pointer\n  //    event compatible; typically means where on a\n  //    touch Win8 device\n  Pep.prototype.isPointerEventCompatible = function() {\n    return (\"MSPointerEvent\" in window);\n  };\n\n  // applyMSDefaults();\n  Pep.prototype.applyMSDefaults = function(first_argument) {\n    this.$el.css({\n        '-ms-touch-action' :    'none',\n        'touch-action' :        'none',\n        '-ms-scroll-chaining':  'none',\n        '-ms-scroll-limit':     '0 0 0 0'\n    });\n  };\n\n  //  isValidMoveEvent();\n  //    returns true if we're on a non-touch device -- or --\n  //    if the event is **single** touch event on a touch device\n  Pep.prototype.isValidMoveEvent = function(ev){\n    return ( !this.isTouch(ev) || ( this.isTouch(ev) && ev.originalEvent && ev.originalEvent.touches && ev.originalEvent.touches.length === 1 ) );\n  };\n\n  //  shouldUseCSSTranslation();\n  //    return true if we should use CSS transforms for move the object\n  Pep.prototype.shouldUseCSSTranslation = function() {\n\n    if ( this.options.forceNonCSS3Movement )\n      return false;\n\n    if ( typeof(this.useCSSTranslation) !== \"undefined\" )\n      return this.useCSSTranslation;\n\n    var useCSSTranslation = false;\n\n    if ( !this.options.useCSSTranslation || ( typeof(Modernizr) !== \"undefined\" && !Modernizr.csstransforms)){\n      useCSSTranslation = false;\n    }\n    else{\n      useCSSTranslation = true;\n    }\n\n    this.useCSSTranslation =  useCSSTranslation;\n    return useCSSTranslation;\n  };\n\n  //  cssAnimationsSupported():\n  //    returns true if the browser supports CSS animations\n  //    which are used for easing..\n  Pep.prototype.cssAnimationsSupported = function() {\n\n    if ( typeof(this.cssAnimationsSupport) !== \"undefined\" ){\n      return this.cssAnimationsSupport;\n    }\n\n    // If the page has Modernizr, let them do the heavy lifting.\n    if ( ( typeof(Modernizr) !== \"undefined\" && Modernizr.cssanimations) ){\n      this.cssAnimationsSupport = true;\n      return true;\n    }\n\n    var animation = false,\n        elm = document.createElement('div'),\n        animationstring = 'animation',\n        keyframeprefix = '',\n        domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n        pfx  = '';\n\n    if( elm.style.animationName ) { animation = true; }\n\n    if( animation === false ) {\n      for( var i = 0; i < domPrefixes.length; i++ ) {\n        if( elm.style[ domPrefixes[i] + 'AnimationName' ] !== undefined ) {\n          pfx = domPrefixes[ i ];\n          animationstring = pfx + 'Animation';\n          keyframeprefix = '-' + pfx.toLowerCase() + '-';\n          animation = true;\n          break;\n        }\n      }\n    }\n\n    this.cssAnimationsSupport = animation;\n    return animation;\n  };\n\n  //  hardwareAccelerate();\n  //    add fool-proof CSS3 hardware acceleration.\n  Pep.prototype.hardwareAccelerate = function() {\n    this.$el.css({\n      '-webkit-perspective':          1000,\n      'perspective':                  1000,\n      '-webkit-backface-visibility':  'hidden',\n      'backface-visibility':          'hidden'\n    });\n   };\n\n  //  getMovementValues();\n  //    returns object pos, event position, and velocity in each direction.\n  Pep.prototype.getMovementValues = function() {\n    return { ev: this.ev, pos: this.pos, velocity: this.velocity() };\n   };\n\n  //  buildDebugDiv();\n  //    Create a little div in the lower right corner of the window\n  //    for extra info about the object currently moving\n  Pep.prototype.buildDebugDiv = function() {\n\n    // Build the debugDiv and it's inner HTML -- if necessary\n    var $debugDiv;\n    if ( $('#pep-debug').length === 0 ){\n      $debugDiv = $('<div></div>');\n      $debugDiv\n        .attr('id', 'pep-debug')\n        .append(\"<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>\")\n        .append(\"<div id='pep-debug-event'>no event</div>\")\n        .append(\"<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\")\n        .append(\"<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\")\n        .append(\"<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\")\n        .append(\"<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>\")\n        .css({\n          position:   'fixed',\n          bottom:     5,\n          right:      5,\n          zIndex:     99999,\n          textAlign:  'right',\n          fontFamily: 'Arial, sans',\n          fontSize:   10,\n          border:     '1px solid #DDD',\n          padding:    '3px',\n          background: 'white',\n          color:      '#333'\n        });\n    }\n\n    var self = this;\n    setTimeout(function(){\n      self.debugElements = {\n        $event:      $(\"#pep-debug-event\"),\n        $velocityX:  $(\"#pep-debug-velocity .pep-x\"),\n        $velocityY:  $(\"#pep-debug-velocity .pep-y\"),\n        $dX:         $(\"#pep-debug-delta .pep-x\"),\n        $dY:         $(\"#pep-debug-delta .pep-y\"),\n        $evCoordsX:  $(\"#pep-debug-ev-coords .pep-x\"),\n        $evCoordsY:  $(\"#pep-debug-ev-coords .pep-y\"),\n        $posCoordsX: $(\"#pep-debug-pos-coords .pep-x\"),\n        $posCoordsY: $(\"#pep-debug-pos-coords .pep-y\")\n      };\n    }, 0);\n\n    $('body').append( $debugDiv );\n  };\n\n  // log()\n  Pep.prototype.log = function(opts) {\n    if ( !this.options.debug ) return;\n\n    switch (opts.type){\n    case \"event\":\n      this.debugElements.$event.text(opts.event);\n      break;\n    case \"pos-coords\":\n      this.debugElements.$posCoordsX.text(opts.x);\n      this.debugElements.$posCoordsY.text(opts.y);\n      break;\n    case \"event-coords\":\n      this.debugElements.$evCoordsX.text(opts.x);\n      this.debugElements.$evCoordsY.text(opts.y);\n      break;\n    case \"delta\":\n      this.debugElements.$dX.text(opts.x);\n      this.debugElements.$dY.text(opts.y);\n      break;\n    case \"velocity\":\n      var vel = this.velocity();\n      this.debugElements.$velocityX.text( Math.round(vel.x) );\n      this.debugElements.$velocityY.text( Math.round(vel.y) );\n      break;\n    }\n  };\n\n  // toggle()\n  //  toggle the pep object\n  Pep.prototype.toggle = function(on) {\n    if ( typeof(on) === \"undefined\"){\n      this.disabled = !this.disabled;\n    }\n    else {\n      this.disabled = !on;\n    }\n  };\n\n  //  *** Special Easings functions ***\n  //    Used for JS easing fallback\n  //    We can use any of these for a\n  //    good intertia ease\n  $.extend($.easing,\n  {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c *(t/=d)*(t-2) + b;\n    },\n    easeOutCirc: function (x, t, b, c, d) {\n      return c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n    },\n    easeOutExpo: function (x, t, b, c, d) {\n      return (t===d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n    }\n  });\n\n  //  wrap it\n  //    A really lightweight plugin wrapper around the constructor,\n  //    preventing against multiple instantiations.\n  $.fn[pluginName] = function ( options ) {\n    return this.each(function () {\n      if (!$.data(this, 'plugin_' + pluginName)) {\n        var pepObj = new Pep( this, options );\n        $.data(this, 'plugin_' + pluginName, pepObj);\n        $.pep.peps.push(pepObj);\n      }\n    });\n  };\n\n  //  The   _   ___ ___\n  //       /_\\ | _ \\_ _|\n  //      / _ \\|  _/| |\n  //     /_/ \\_\\_| |___|\n  //\n  $.pep = {};\n  $.pep.peps = [];\n  $.pep.toggleAll = function(on){\n    $.each(this.peps, function(index, pepObj){\n      pepObj.toggle(on);\n    });\n  };\n\n  $.pep.unbind = function($obj){\n    var pep = $obj.data('plugin_' + pluginName);\n\n    if ( typeof pep === 'undefined' )\n      return;\n\n    pep.toggle(false);\n    pep.unsubscribe();\n    $obj.removeData('plugin_' + pluginName);\n\n  };\n\n}(jQuery, window));"]},"hash":"c32ae0468b42e350528eb92ec8d58237313c8ef3"}
